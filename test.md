1. 目的 / スコープ

目的：ES（自己PR等）を貼り付け → AI的ロジックでスライド構成案を生成 → 会話で微修正 → PPTXとしてダウンロード、をローカルPCだけで実演できる。

スコープ（MVP）：

画面は2つ：
① ES入力フォーム（複数セクション：タイトル＋本文、追加/削除）
② スライド確認（左：チャット、右：構成プレビュー、PPTXダウンロード）

生成/編集/エクスポートは**全てサーバ側(Python)**で実行

外部DB・クラウド不要（メモリ＋一時ファイル）

将来のMCP / skillsは差し替え可能なI/Fを残す

2. 全体アーキテクチャ

バックエンド：FastAPI（Python）

役割：構成案生成、差分編集（パッチ）、PPTX生成、HTML配信

ライブラリ：fastapi, uvicorn, python-pptx, pydantic, Jinja2（任意）

フロントエンド：静的HTML＋最小JS

役割：フォーム入力、チャット送信、スライド表示、DLボタン

状態はサーバ側で更新（/patch は新スライド配列を返す）

実行：uvicorn main:app --reload --port 8000（ローカルのみ）

3. 画面要件（2画面）
3.1 ① ES入力フォーム

要素

セクションの繰り返し行：タイトル（input）＋本文（textarea）

追加/削除ボタン

「構成案を生成」ボタン（/generate 呼び出し）

仕様

本文が空のセクションは送信時に無視（警告は出さない）

サーバからSlidesState JSONが返り、②へ遷移

3.2 ② スライド確認

レイアウト

左：チャット（フリーテキスト＋プリセット3種）

右：スライドカード一覧（タイトル編集、箇条書き編集、複製/削除/上下移動、PPTXダウンロード）

仕様

チャット送信 → /patch に slides + prompt をPOST → サーバが差分適用後の完全slidesを返却

「PPTXをダウンロード」 → /export 実行 → ダウンロードURL受領 → 即DL